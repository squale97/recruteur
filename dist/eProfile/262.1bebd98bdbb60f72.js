"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[262],{8e3:(I,g,i)=>{i.r(g),i.d(g,{AddOffreModule:()=>S});var m=i(6814),p=i(95),M=i(9252),O=i(1122),F=i(7507),h=i(707),J=i(1913),y=i(74),s=i(9310),c=i(9862),a=i(553),A=i(5219),e=i(4946),v=i(2352),C=i(3714),T=i(7018),Z=i(7680);function _(t,l){1&t&&e._UZ(0,"p-progressSpinner",20)}let U=(()=>{var t;class l{constructor(d,n,r){this.http=d,this.messageService=n,this.router=r,this.loading=!1}verifierFormulaire(){this.formulaireComplet=void 0!==this.nom&&""!==this.nom&&void 0!==this.lieu&&""!==this.lieu&&void 0!==this.structure&&""!=this.structure&&void 0!==this.nbreAnnee&&""!=this.nbreAnnee&&void 0!==this.dateFin&&""!==this.dateFin&&void 0!==this.description&&""!==this.description}addOffre(){this.loading=!0;var d=a.N.baseUrl+"addEmploi",n=sessionStorage.getItem("id");const r={headers:new c.WM({"Content-Type":"application/json",Authorization:"Basic "+btoa(a.N.userAuth+":"+a.N.passAuth)})},o=JSON.stringify({nbExperience:this.nbreAnnee,recruteur:n,nom:this.nom,description:this.description,lieu:this.lieu,structure:this.structure,type:this.selectedType,dateFin:this.dateFin});this.http.post(d,o,r).subscribe(f=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Offre ajout\xe9e"}),this.router.navigateByUrl("/table/offre")},f=>{console.error("\xc9chec de la connexion :",f.status)})}ngOnInit(){this.dropdownItems=["CDD","STAGE","CDI","AUTRE"]}}return(t=l).\u0275fac=function(d){return new(d||t)(e.Y36(c.eN),e.Y36(A.ez),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e._Bn([A.ez])],decls:49,vars:10,consts:[[1,"grid"],[1,"col-10"],[1,"card"],[1,"card","p-fluid"],["action",""],[1,"field"],[1,"p-formgrid","grid"],[1,"field","col"],["htmlFor","name2"],["pInputText","","id","name2","type","text",3,"ngModel","input","ngModelChange"],["htmlFor","email2"],["pInputText","","id","email2","type","text",3,"ngModel","input","ngModelChange"],["htmlFor","name1"],["pInputText","","id","name1","type","number",3,"ngModel","input","ngModelChange"],[3,"options","ngModel","input","ngModelChange"],["pInputText","","id","email2","type","date",3,"ngModel","input","ngModelChange"],["rows","4","cols","12","pInputText","","id","email2","type","text",3,"ngModel","input","ngModelChange"],["id","valid","pButton","","pRipple","","label","Valider",3,"disabled","click"],["routerLink","/table/offre","pButton","","pRipple","","label","Quitter",2,"background-color","rgb(233, 99, 99)"],["id","spinO",4,"ngIf"],["id","spinO"]],template:function(d,n){1&d&&(e.TgZ(0,"div",0)(1,"div",0)(2,"div",1)(3,"div",2)(4,"h4"),e._uU(5,"Ajouter une offre"),e.qZA(),e.TgZ(6,"div",3)(7,"h5"),e._uU(8,"D\xe9tails de l'offre"),e.qZA(),e._UZ(9,"form",4),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"label",8),e._uU(14,"Nom"),e.qZA(),e.TgZ(15,"input",9),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.nom=o}),e.qZA()(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"Lieu"),e.qZA(),e.TgZ(19,"input",9),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.lieu=o}),e.qZA()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"label",10),e._uU(23,"Structure"),e.qZA(),e.TgZ(24,"input",11),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.structure=o}),e.qZA()(),e.TgZ(25,"div",7)(26,"label",12),e._uU(27,"Ann\xe9es d'exp\xe9rience r\xe9quis"),e.qZA(),e.TgZ(28,"input",13),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.nbreAnnee=o}),e.qZA()()(),e.TgZ(29,"div",6)(30,"div",7)(31,"label",8),e._uU(32,"Type"),e.qZA(),e.TgZ(33,"p-dropdown",14),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.selectedType=o}),e.qZA()(),e.TgZ(34,"div",7)(35,"label",10),e._uU(36,"Date de Fin"),e.qZA(),e.TgZ(37,"input",15),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.dateFin=o}),e.qZA()()(),e.TgZ(38,"div",7)(39,"label",10),e._uU(40,"Description"),e.qZA(),e.TgZ(41,"textarea",16),e.NdJ("input",function(){return n.verifierFormulaire()})("ngModelChange",function(o){return n.description=o}),e.qZA()(),e.TgZ(42,"div",6)(43,"div",7),e._UZ(44,"p-toast"),e.TgZ(45,"button",17),e.NdJ("click",function(){return n.addOffre()}),e.qZA()(),e.TgZ(46,"div",7),e._UZ(47,"button",18),e.qZA()(),e.YNc(48,_,1,0,"p-progressSpinner",19),e.qZA()()()()()()),2&d&&(e.xp6(15),e.Q6J("ngModel",n.nom),e.xp6(4),e.Q6J("ngModel",n.lieu),e.xp6(5),e.Q6J("ngModel",n.structure),e.xp6(4),e.Q6J("ngModel",n.nbreAnnee),e.xp6(5),e.Q6J("options",n.dropdownItems)("ngModel",n.selectedType),e.xp6(4),e.Q6J("ngModel",n.dateFin),e.xp6(4),e.Q6J("ngModel",n.description),e.xp6(4),e.Q6J("disabled",!n.formulaireComplet),e.xp6(3),e.Q6J("ngIf",n.loading))},dependencies:[m.O5,p._Y,p.Fj,p.wV,p.JJ,p.JL,p.On,p.F,s.rH,h.Hq,v.Lt,C.o,T.FN,Z.G],encapsulation:2}),l})(),N=(()=>{var t;class l{}return(t=l).\u0275fac=function(d){return new(d||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild([{path:"",component:U}]),s.Bz]}),l})();var b=i(6218);let S=(()=>{var t;class l{}return(t=l).\u0275fac=function(d){return new(d||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,p.u5,M.S,O.$9,F.U$,J.l,y.ml,h.hJ,N,v.kW,C.j,b.A,T.EV,Z.L]}),l})()}}]);