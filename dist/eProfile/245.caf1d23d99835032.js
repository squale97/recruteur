"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[245],{1245:(L,v,r)=>{r.r(v),r.d(v,{OffreModule:()=>E});var _=r(6814),O=r(95),U=r(9252),C=r(1122),f=r(7507),Z=r(707),S=r(1913),b=r(74),g=r(9310),d=r(5219),c=r(553),h=r(9862),t=r(4946),x=r(8841),T=r(7018),A=r(3714),y=r(3904);const N=function(){return["/table/addOffre"]};function M(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(),a=t.MAs(6);return t.KtG(o.clear(a))}),t.qZA(),t.TgZ(2,"span",11),t._UZ(3,"i",12),t.TgZ(4,"input",13),t.NdJ("input",function(o){t.CHM(i),t.oxw();const a=t.MAs(6);return t.KtG(a.filterGlobal(o.target.value,"contains"))}),t.qZA()(),t._UZ(5,"button",14),t.qZA()}2&e&&(t.xp6(5),t.Q6J("routerLink",t.DdM(1,N)))}function q(e,s){1&e&&(t.TgZ(0,"tr")(1,"th",15)(2,"div",16),t._uU(3," Nom "),t._UZ(4,"p-sortIcon",17),t.qZA()(),t.TgZ(5,"th",18)(6,"div",16),t._uU(7," Lieu "),t._UZ(8,"p-sortIcon",19),t.qZA()(),t.TgZ(9,"th",20)(10,"div",16),t._uU(11," Structure "),t._UZ(12,"p-sortIcon",21),t.qZA()(),t.TgZ(13,"th",22)(14,"div",16),t._uU(15," Type "),t._UZ(16,"p-sortIcon",21),t.qZA()(),t.TgZ(17,"th",23)(18,"div",16),t._uU(19," Validite "),t._UZ(20,"p-sortIcon",21),t.qZA()(),t.TgZ(21,"th",24)(22,"div",16),t._uU(23," Date de Fin "),t.qZA()(),t.TgZ(24,"th",24)(25,"div",16),t._uU(26," Nombre de candidatures "),t.qZA()(),t.TgZ(27,"th",24)(28,"div",16),t._uU(29," Nombre de consultation "),t.qZA()(),t.TgZ(30,"th",25)(31,"div",16),t._uU(32," Modifier "),t.qZA()(),t.TgZ(33,"th",25)(34,"div",16),t._uU(35," Voir les candidatures "),t.qZA()(),t.TgZ(36,"th",25)(37,"div",16),t._uU(38," Supprimer "),t.qZA()()())}function w(e,s){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Suppression de l'offre"),t.qZA())}function j(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(i),t.oxw();const o=t.MAs(28);return t.KtG(o.reject())}),t.qZA(),t.TgZ(1,"button",34),t.NdJ("click",function(){t.CHM(i),t.oxw();const o=t.MAs(28);return t.KtG(o.accept())}),t.qZA()}}const J=function(){return["/table/editOffre"]},F=function(e){return{id:e}},B=function(){return["/table/candidatures"]},Y=function(e){return{offre:e}},P=function(){return{width:"50vw"}};function D(e,s){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span",26),t._uU(5),t.qZA()(),t.TgZ(6,"td")(7,"span",26),t._uU(8),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td")(20,"a",27),t._UZ(21,"i",28),t.qZA()(),t.TgZ(22,"td")(23,"a",27),t._UZ(24,"i",29),t.qZA()(),t.TgZ(25,"td"),t._UZ(26,"p-toast"),t.TgZ(27,"p-confirmDialog",null,30),t.YNc(29,w,2,0,"ng-template",6),t.YNc(30,j,2,0,"ng-template",31),t.qZA(),t.TgZ(31,"i",32),t.NdJ("click",function(){const a=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.confirm2(a.id))}),t.qZA()()()}if(2&e){const i=s.$implicit;t.xp6(2),t.hij(" ",i.nom," "),t.xp6(3),t.Oqu(i.lieu),t.xp6(3),t.Oqu(i.structure),t.xp6(2),t.hij(" ",i.type," "),t.xp6(2),t.hij(" ",i.validite," "),t.xp6(2),t.hij(" ",i.dateFin," "),t.xp6(2),t.hij(" ",i.nbCandidature," "),t.xp6(2),t.hij(" ",i.nbConsultation," "),t.xp6(2),t.Q6J("routerLink",t.DdM(14,J))("queryParams",t.VKq(15,F,i.id)),t.xp6(3),t.Q6J("routerLink",t.DdM(17,B))("queryParams",t.VKq(18,Y,i.id)),t.xp6(4),t.Akn(t.DdM(20,P))}}function R(e,s){1&e&&(t.TgZ(0,"tr")(1,"td",35),t._uU(2,"No customers found."),t.qZA()())}const z=function(){return[10,25,50]},I=function(){return["nom","lieu","type","structure"]};let k=(()=>{var e;class s{constructor(n,o,a,l,u){this.messageService=n,this.router=o,this.customerService=a,this.http=l,this.confirmationService=u,this.visible=!1,this.loading=!0,this.activityValues=[0,100]}onSave(n){this.confirmationService.confirm({message:"Are you sure that you want to save it in Gallery?",accept:()=>{this.messageService.add({severity:n,summary:"Success",detail:"Data Saved"})}})}showT(){this.messageService.add({severity:"info",summary:"Sticky",detail:"Message Content",sticky:!0})}suppressOffre(n){var o=c.N.baseUrl+"delete/emploi";sessionStorage.getItem("id");const l={headers:new h.WM({"Content-Type":"application/json",Authorization:"Basic "+btoa(c.N.userAuth+":"+c.N.passAuth)})},u=JSON.stringify({id:n});this.http.post(o,u,l).subscribe(m=>{this.messageService.add({severity:"success",summary:"Success",detail:"Offre supprim\xe9"}),window.location.reload()},m=>{console.error("\xc9chec de la connexion :",m.status)})}showDialog(){this.visible=!0}goToEdit(){}getOffres(){var n=c.N.baseUrl+"emploiByRecruteur",o=sessionStorage.getItem("id");const a={headers:new h.WM({"Content-Type":"application/json",Authorization:"Basic "+btoa(c.N.userAuth+":"+c.N.passAuth)})},l=JSON.stringify({recruteur:o});this.http.post(n,l,a).subscribe(p=>{null==p||(this.offres=p.contenu)},p=>{console.error("\xc9chec de la connexion :",p.status)})}ngOnInit(){this.getOffres()}confirm2(n){this.confirmationService.confirm({message:"Voulez vous vraiment supprimer cette offre",header:"Suppression",icon:"pi pi-info-circle",accept:()=>{var o=c.N.baseUrl+"delete/emploi";sessionStorage.getItem("id");const l={headers:new h.WM({"Content-Type":"application/json",Authorization:"Basic "+btoa(c.N.userAuth+":"+c.N.passAuth)})},u=JSON.stringify({id:n});this.http.post(o,u,l).subscribe(m=>{this.messageService.add({severity:"success",summary:"Success",detail:"Offre supprim\xe9e"}),window.location.reload()},m=>{})},reject:()=>{}})}clear(n){n.clear()}getSeverity(n){switch(n){case"unqualified":return"danger";case"qualified":return"success";case"new":return"info";case"negotiation":return"warning";case"renewal":return null}return"ok"}}return(e=s).\u0275fac=function(n){return new(n||e)(t.Y36(d.ez),t.Y36(g.F0),t.Y36(x.v),t.Y36(h.eN),t.Y36(d.YP))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],features:[t._Bn([d.ez,d.YP])],decls:11,vars:8,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex"],["pButton","","label","Effacer","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","chercher",3,"input"],["pButton","","label","Ajouter une offre","icon","pi pi-add",2,"margin-left","10px",3,"routerLink"],["pSortableColumn","nom"],[1,"flex","align-items-center"],["field","nom"],["pSortableColumn","lieu",2,"min-width","15rem"],["field","lieu"],["pSortableColumn","structure",2,"min-width","15rem"],["field","structure"],["pSortableColumn","type",2,"min-width","10rem"],["pSortableColumn","validite",2,"min-width","10rem"],[2,"min-width","10rem"],[2,"width","3rem"],[1,"ml-1","vertical-align-middle"],[3,"routerLink","queryParams"],[1,"pi","pi-pencil",2,"color","blue"],[1,"pi","pi-eye",2,"color","blue"],["cd",""],["pTemplate","footer"],["id","trash",1,"pi","pi-trash",2,"color","red",3,"click"],["type","button","pButton","","icon","pi pi-times","label","Non",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Oui",2,"background-color","red",3,"click"],["colspan","7"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Offres"),t.qZA(),t.TgZ(5,"p-table",3,4),t.YNc(7,M,6,2,"ng-template",5),t.YNc(8,q,39,0,"ng-template",6),t.YNc(9,D,32,21,"ng-template",7),t.YNc(10,R,3,0,"ng-template",8),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("value",o.offres)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(6,z))("paginator",!0)("globalFilterFields",t.DdM(7,I)))},dependencies:[g.rH,f.iA,d.jx,f.lQ,f.fz,Z.Hq,T.FN,A.o,y.Q],encapsulation:2}),s})(),K=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild([{path:"",component:k}]),g.Bz]}),s})();var G=r(2352),H=r(6804),V=r(7213);let E=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.ez,O.u5,U.S,C.$9,f.U$,S.l,b.ml,Z.hJ,K,G.kW,T.EV,H.KZ,A.j,y.D,V.S]}),s})()}}]);