"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[120],{9120:(R,b,r)=>{r.r(b),r.d(b,{LoginModule:()=>G});var d=r(6814),g=r(9310),u=r(553),m=r(9862),f=r(5219),e=r(4946),T=r(3859);let M=(()=>{var n;class i{constructor(s){this.http=s}getData(s){return this.http.get(u.N.baseUrl+s)}PostData(s,t){const c=new m.WM({"Content-Type":"application/json"});return this.http.post(u.N.baseUrl+s,t,{headers:c})}}return(n=i).\u0275fac=function(s){return new(s||n)(e.LFG(m.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var v=r(7680),_=r(707),C=r(3714),p=r(95),y=r(1423),k=r(7018);function I(n,i){1&n&&e._UZ(0,"p-progressSpinner",16)}const S=function(){return["/auth/resetPass"]};let J=(()=>{var n;class i{constructor(s,t,c,l,h){this.layoutService=s,this.messageService=t,this.backendService=c,this.router=l,this.http=h,this.valCheck=["remember"],this.loading=!1}removeExtraSpaces(){this.username=this.username.replace(/\s+/g," ").trim()}ngOnInit(){}logAccount(){this.loading=!0;const s={headers:new m.WM({"Content-Type":"application/json",Authorization:"Basic "+btoa(u.N.userAuth+":"+u.N.passAuth)})},t=JSON.stringify({email:this.username,password:this.password});this.http.post(u.N.baseUrl+"loginUser",t,s).subscribe(l=>{this.loading=!1,null==l||("oui"==l.recruteur?(localStorage.setItem("admin",l.nom),localStorage.setItem("mail",l.username),sessionStorage.setItem("id",l.id),sessionStorage.setItem("abonnement",l.abonnement),"valide"==l.abonnement?this.router.navigateByUrl("/"):this.messageService.add({severity:"error",summary:"Erreur",detail:"Votre abonnemenrt n'est pas valide"}),this.messageService.add({severity:"success",summary:"Success",detail:"Bienvenu sur l'espace recruteur"})):this.messageService.add({severity:"error",summary:"Erreur",detail:"Vous n'etes pas recruteur"}))},l=>{this.loading=!1,console.error("\xc9chec de la connexion :",l.status)})}}return(n=i).\u0275fac=function(s){return new(s||n)(e.Y36(T.P),e.Y36(f.ez),e.Y36(M),e.Y36(g.F0),e.Y36(m.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e._Bn([f.ez])],decls:23,vars:7,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"text-center","mb-5"],["src","assets/layout/images/eprofile1.jpeg","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["id","email1","type","text","placeholder","Email address","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem",3,"ngModel","input","ngModelChange"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","placeholder","Password","styleClass","mb-5","inputStyleClass","w-full p-3 md:w-30rem",3,"ngModel","toggleMask","ngModelChange"],[1,"flex","align-items-center","justify-content-between","mb-5","gap-5"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)",3,"routerLink"],["pButton","","pRipple","","label","Connexion",1,"w-full","p-3","text-xl",3,"disabled","click"],["id","spinf",4,"ngIf"],["id","spinf"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6),e._uU(7,"Bienvenue"),e.qZA(),e.TgZ(8,"span",7),e._uU(9,"Se connecter"),e.qZA()(),e.TgZ(10,"div")(11,"label",8),e._uU(12,"Email"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("input",function(){return t.removeExtraSpaces()})("ngModelChange",function(l){return t.username=l}),e.qZA(),e.TgZ(14,"label",10),e._uU(15,"Password"),e.qZA(),e.TgZ(16,"p-password",11),e.NdJ("ngModelChange",function(l){return t.password=l}),e.qZA(),e.TgZ(17,"div",12)(18,"a",13),e._uU(19,"Forgot password?"),e.qZA()(),e._UZ(20,"p-toast"),e.TgZ(21,"button",14),e.NdJ("click",function(){return t.logAccount()}),e.qZA(),e.YNc(22,I,1,0,"p-progressSpinner",15),e.qZA()()()()()),2&s&&(e.xp6(13),e.Q6J("ngModel",t.username),e.xp6(3),e.Q6J("ngModel",t.password)("toggleMask",!0),e.xp6(2),e.Q6J("routerLink",e.DdM(6,S)),e.xp6(3),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading))},dependencies:[v.G,d.O5,g.rH,_.Hq,C.o,p.Fj,p.JJ,p.On,y.ro,k.FN],styles:["[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]}),i})(),w=(()=>{var n;class i{}return(n=i).\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild([{path:"",component:J}]),g.Bz]}),i})();var a=r(6656),x=r(2332),Z=r(2591);const L=["cb"];function A(n,i){if(1&n&&e._UZ(0,"span",10),2&n){const o=e.oxw(3);e.Q6J("ngClass",o.checkboxIcon)}}function B(n,i){1&n&&e._UZ(0,"CheckIcon",11),2&n&&e.Q6J("styleClass","p-checkbox-icon")}function N(n,i){if(1&n&&(e.ynx(0),e.YNc(1,A,1,1,"span",8),e.YNc(2,B,1,1,"CheckIcon",9),e.BQk()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.checkboxIcon),e.xp6(1),e.Q6J("ngIf",!o.checkboxIcon)}}function Q(n,i){}function E(n,i){1&n&&e.YNc(0,Q,0,0,"ng-template")}function V(n,i){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,E,1,0,null,13),e.qZA()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.checkboxIconTemplate)}}function U(n,i){if(1&n&&(e.ynx(0),e.YNc(1,N,3,2,"ng-container",5),e.YNc(2,V,2,1,"span",7),e.BQk()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.checkboxIconTemplate),e.xp6(1),e.Q6J("ngIf",o.checkboxIconTemplate)}}const F=function(n,i,o){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":i,"p-checkbox-label-focus":o}};function O(n,i){if(1&n){const o=e.EpF();e.TgZ(0,"label",14),e.NdJ("click",function(t){e.CHM(o);const c=e.oxw(),l=e.MAs(3);return e.KtG(c.onClick(t,l,!0))}),e._uU(1),e.qZA()}if(2&n){const o=e.oxw();e.Tol(o.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,F,o.checked(),o.disabled,o.focused)),e.uIk("for",o.inputId),e.xp6(1),e.Oqu(o.label)}}const Y=function(n,i,o){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":i,"p-checkbox-focused":o}},j=function(n,i,o){return{"p-highlight":n,"p-disabled":i,"p-focus":o}},D={provide:p.JU,useExisting:(0,e.Gpc)(()=>P),multi:!0};let P=(()=>{var n;class i{constructor(s){(0,a.Z)(this,"cd",void 0),(0,a.Z)(this,"value",void 0),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"disabled",void 0),(0,a.Z)(this,"binary",void 0),(0,a.Z)(this,"label",void 0),(0,a.Z)(this,"ariaLabelledBy",void 0),(0,a.Z)(this,"ariaLabel",void 0),(0,a.Z)(this,"tabindex",void 0),(0,a.Z)(this,"inputId",void 0),(0,a.Z)(this,"style",void 0),(0,a.Z)(this,"styleClass",void 0),(0,a.Z)(this,"labelStyleClass",void 0),(0,a.Z)(this,"formControl",void 0),(0,a.Z)(this,"checkboxIcon",void 0),(0,a.Z)(this,"readonly",void 0),(0,a.Z)(this,"required",void 0),(0,a.Z)(this,"trueValue",!0),(0,a.Z)(this,"falseValue",!1),(0,a.Z)(this,"onChange",new e.vpe),(0,a.Z)(this,"inputViewChild",void 0),(0,a.Z)(this,"templates",void 0),(0,a.Z)(this,"checkboxIconTemplate",void 0),(0,a.Z)(this,"model",void 0),(0,a.Z)(this,"onModelChange",()=>{}),(0,a.Z)(this,"onModelTouched",()=>{}),(0,a.Z)(this,"focused",!1),this.cd=s}ngAfterContentInit(){this.templates.forEach(s=>{"icon"===s.getType()&&(this.checkboxIconTemplate=s.template)})}onClick(s,t,c){s.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(s),c&&t.focus())}updateModel(s){let t;this.binary?(t=this.checked()?this.falseValue:this.trueValue,this.model=t,this.onModelChange(t)):(t=this.checked()?this.model.filter(c=>!x.gb.equals(c,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(t),this.model=t,this.formControl&&this.formControl.setValue(t)),this.onChange.emit({checked:t,originalEvent:s})}handleChange(s){this.readonly||this.updateModel(s)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(s){this.model=s,this.cd.markForCheck()}registerOnChange(s){this.onModelChange=s}registerOnTouched(s){this.onModelTouched=s}setDisabledState(s){this.disabled=s,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:x.gb.contains(this.value,this.model)}}return n=i,(0,a.Z)(i,"\u0275fac",function(s){return new(s||n)(e.Y36(e.sBO))}),(0,a.Z)(i,"\u0275cmp",e.Xpm({type:n,selectors:[["p-checkbox"]],contentQueries:function(s,t,c){if(1&s&&e.Suo(c,f.jx,4),2&s){let l;e.iGM(l=e.CRH())&&(t.templates=l)}},viewQuery:function(s,t){if(1&s&&e.Gf(L,5),2&s){let c;e.iGM(c=e.CRH())&&(t.inputViewChild=c.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([D])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(s,t){if(1&s){const c=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()})("change",function(h){return t.handleChange(h)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(h){e.CHM(c);const H=e.MAs(3);return e.KtG(t.onClick(h,H,!0))}),e.YNc(5,U,3,2,"ng-container",5),e.qZA()(),e.YNc(6,O,2,9,"label",6)}2&s&&(e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.kEZ(18,Y,t.checked(),t.disabled,t.focused)),e.xp6(2),e.Q6J("readonly",t.readonly)("value",t.value)("checked",t.checked())("disabled",t.disabled),e.uIk("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("aria-checked",t.checked())("required",t.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,j,t.checked(),t.disabled,t.focused)),e.xp6(1),e.Q6J("ngIf",t.checked()),e.xp6(1),e.Q6J("ngIf",t.label))},dependencies:function(){return[d.mk,d.O5,d.tP,d.PC,Z.n]},styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0})),i})(),z=(()=>{var n;class i{}return n=i,(0,a.Z)(i,"\u0275fac",function(s){return new(s||n)}),(0,a.Z)(i,"\u0275mod",e.oAB({type:n})),(0,a.Z)(i,"\u0275inj",e.cJS({imports:[d.ez,Z.n,f.m8]})),i})(),G=(()=>{var n;class i{}return(n=i).\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.L,d.ez,w,_.hJ,z,C.j,p.u5,y.gz,k.EV]}),i})()}}]);